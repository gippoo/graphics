<!DOCTYPE html>
<html>
<body>
<h1>Genetic Algorithm Example</h1>
<h2>Drink Menu</h2>
<hr>
<p>Boba 1...<span id=cost1></span></p>
<p>Boba 2...<span id=cost2></span></p>
<p>Boba 3...<span id=cost3></span></p>
<p>Boba 4...<span id=cost4></span></p>
<p>Boba 5...<span id=cost5></span></p>
<p>Boba 6...<span id=cost6></span></p>
<p>Boba 7...<span id=cost7></span></p>
<p>Boba 8...<span id=cost8></span></p>
<p>Boba 9...<span id=cost9></span></p>
<hr>
<h2>Evolution</h2>
<h3>Generation <span id='genNum'>0</span></h3>
<p id='individuals'></p>

<script>
	var bobas = [];
	var boba = function() {
		this.cost = (Math.random() * 3 + 2).toFixed(2);
	}
	
	// Show menu with prices
	for (let i = 0; i < 9; i++) {
		bobas[i] = new boba();
	}
	for (let i = 1; i <= 9; i++) {
		document.getElementById('cost'+i).innerHTML = '$'+bobas[i-1].cost;
	}

	// Evolution functions
	function createIndividual() {
		let c1 = Math.floor(Math.random() * 9) + 1;
		let c2 = Math.floor(Math.random() * 9) + 1;
		let c3 = Math.floor(Math.random() * 9) + 1;
		return [c1,c2,c3];
	}

	function createPopulation(size) {
		let newpop = [];
		for (let i = 0; i < size; i++) {
			newpop[i] = createIndividual();
		}
	return newpop;
	}

	function scoreIndiv(indiv) {
		let total = 0;
		for (let i = 0; i < 3; i++) {
			total += parseFloat(bobas[indiv[i]-1].cost);
		}
	return Math.abs(10 - total);
	}

	function scorePopulation(pop) {
		let scoredPop = [];
		for (let i = 0; i < pop.length; i++) {
			scoredPop[i] = pop[i];
			scoredPop[i][3] = scoreIndiv(pop[i]);
			scoredPop[i].reverse();
		}
		return scoredPop;
	}

	// Create and display initial population
	var x = createPopulation(5);
	for (let i = 0; i < x.length; i++) {
		document.getElementById('individuals').innerHTML += '['+x[i]+'] &nbsp&nbsp';
	}
	console.log(scorePopulation(x));


</script>

</body>
</html>
